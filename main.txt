from kivy.app import App
from kivy.lang import builder
from kivy.lang.builder import Builder

import kivy
from kivy.uix.boxlayout import BoxLayout
kivy.require("2.0.0")

code = """
BoxLayout:
    orientation: 'vertical'
    TextInput: 
        id: txin1
    Button: 
        text: "Save"
        on_press: app.seiv()
    Button:
        text: "Open"
        on_press: app.run2()

"""



class AptitudeApp(App): #Codigo principal de la ventana principal
    def build(self):
        return Builder.load_string(code)
        
    def seiv(self):
        f = open("test.txt","w")
        text = self.root.ids.txin1.text 
        print(text)
        f.write(text)
        f.close()
    
    def run2(self):
        AptitudeApp._running_app.stop()
        AptitudeApp2().run()


class AptitudeApp2(App):
    def build(self):
        f = open("test.txt","r")
        return Builder.load_string(str(f.read())); f.close()






AptitudeApp().run()

 
